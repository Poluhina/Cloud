# Лабораторная работа №4. Облачное хранилище данных. Amazon S3

# Шаг 1. Подготовка
Создала структуру каталогов и файлов.

Регион: eu-central-1 (Frankfurt).

Формат имён бакетов:

Публичный: cc-lab4-pub-kXX

Приватный: cc-lab4-priv-kXX

# Шаг 2. Создание бакетов
Перешла в консоль управления AWS S3 и создала два бакета с указанными именами.

Публичный бакет:

Имя: cc-lab4-pub-k055

Region: eu-central-1

Object Ownership: ACLs enabled (Can be configured using ACLs)

Block all public access: снять галочку (разрешить публичность)

Необходимо подтвердить предупреждение. Далее, нажала Create bucket.

Аналогично создала второй, приватный бакет. С именем cc-lab4-priv-k055, но оставила все настройки по умолчанию (Block all public access — включен).

Скриншот публичного и приватного бакетов.
<img width="1095" height="311" alt="image" src="https://github.com/user-attachments/assets/5cfa74ad-9d79-4a4e-b6c8-fa70d3048d0c" />

1) Что означает опция “Block all public access” и зачем нужна данная настройка?

Это важная настройка безопасности в S3. Если она включена, никто в интернете не сможет получить доступ к файлам. Если же, она выключена, файлы могут бытьь доступными через URL.

# Шаг 3. Загрузка объектов через AWS Management Console

Перешла в бакет cc-lab4-pub-k055.

Перешла в директорию avatars/ и нажала Upload.

Загрузила файл user1.jpg из локальной папки s3-lab/public/avatars/.

После загрузки в пункте Permissions выберала Grant public-read access.

Завершила загрузку нажав Upload.
<img width="1651" height="619" alt="image" src="https://github.com/user-attachments/assets/efe75250-c71f-4998-8c53-c7ee0ae4d684" />


2) Чем отличается ключ (object key) от имени файла?

Имя файла - это название файла.

Ключ (object key) - это уникальный идентификатор файла в бакете S3.

Разница в то, что ключ - это путь и имя файла внутри S3, а имя файла только название локального файла.

# Шаг 4. Загрузка объектов через AWS CLI

Установила и настроила AWS CLI.

Публичные файлы (user1.jpg, user2.jpg, logo.jpg) загружены в публичный бакет и доступны по ссылке.

Приватный файл (activity.csv) загружен в приватный бакет и не доступен публично.

Использованы правильные пути и параметры (--acl publc-read для публичных файлов).

Скриншот терминала
<img width="1097" height="247" alt="image" src="https://github.com/user-attachments/assets/b01624a3-9099-44f8-910a-9d0c97ea1d39" />

3) В чём разница между командами aws s3 cp, mv и sync и для чего используется параметр флаг --acl public-read?

Команда cp копирует один или несколько файлов из локальной системы S3 или наоборот.

Команда mv перемещает файл.

Команда sync синхронизирует директорию и бакет.

Флаг  --acl public-read делает объект доступным для всех пользователей интернета. Без него файлы останутся приватными даже в публичном бакете.

# Шаг 5. Проверка доступа к объектам

Публичные файлы user1.jpg, user2.jpg, logo.jpg доступны через браузер.

<img width="474" height="292" alt="image" src="https://github.com/user-attachments/assets/a5c31c24-19a5-43ba-9520-10a8122b2a85" />


К приватному файлу activity.csv доступ запрещен.

<img width="971" height="174" alt="image" src="https://github.com/user-attachments/assets/7d439367-bd39-4128-a5af-dd853cbd506f" />

# Шаг 6. Версионирование объектов

Для демонстарции работы версирования, я изменила файл logo.jpg. Добавила текст. После того как повторно загрузила файл в бакет с включенным версированием S3 создал новую версию файла. В консоли S3, в разделе Versions видно две версии файла, оригинальнную и обновленную.

<img width="1609" height="424" alt="image" src="https://github.com/user-attachments/assets/2ebdcda6-9cd2-468a-ae27-b965634f7208" />

4) Что произойдёт, если выключить версионирование после его включения?

Если выключить версионирование после его включения, старые версии файлов сохранятся и их можно будет просматривать или восстанавливать. Но новые изменения файлов перестанут создавать новые версии.

# Шаг 7. Создание Lifecycle-правил для приватного бакета

В приватном бакете зашла в Management → Lifecycle rules → Create rule.

Имя: logs-archive

Префикс: logs/

Actions:

Transition → Standard-IA через 30 дней  Это для редко используемых данных, дешевле стандартного хранения.

Transition → Glacier Deep Archive через 365 дней  Это для архивного хранения на долгий строк.

Expiration → удалить через 1825 дней (5 лет)   

Далее сохранла правило: Create rule.


<img width="1640" height="366" alt="image" src="https://github.com/user-attachments/assets/7ace605b-fe1f-426d-89e6-d300b26cd0e1" />

Что такое Storage Class в Amazon S3 и зачем они нужны?

Storage Class в Amazon S3 определяет, как объекты будут хранится в плане стоимости, доступности и скорости доступа. Есть разные классы хранения и это позволяет оптимизировать расходы на хранение данных.

# Шаг 8. Создание статического веб-сайта на базе S3

Создала бакет cc-lab4-web-k055 для хостинга статического сайта:

Имя: cc-lab4-web-k055

Region: eu-central-1

Object Ownership: ACLs enabled (Can be configured using ACLs)

Block all public access: снять галочку (разрешить публичность)
Нажала Create bucket

После создания настройка хостинга:

Перешла в бакет → вкладка Properties → Static website hosting → Edit -> Enable.

Выбрала следующие параметры:

Hosting type: Host a static website.

Index document: index.html.
